<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
<?php include 'dbcon.php'; 
        if (isset($_GET["news_id"])){
          $news_id = $_GET["news_id"];
          $sql = "SELECT * FROM `news` WHERE news_id = $news_id;";
        }
        else {
          $sql = "SELECT * FROM news ORDER BY news_id DESC LIMIT 1";
        }    
?>

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
    <link rel="stylesheet" href="styles/image-effect/fluid-gallery.css">
    <!-- My CSS -->
    <?php include 'styles/!main.style.php'; ?>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index-media.css">

    <title>Mayurapada CC - Mayurapada Central College Official Website </title>
  </head>
  <body>

//Nav bar
   <?php include 'acc/header.php'; ?>

//Hero Image
   <div class="home-hero">
     <img src="img/hero.jpg" alt="" class="hero-image">
     <h1 class="main-title fade-up">MAYURAPADA CENTRAL COLLEGE <br> NARAMMALA</h1>
   </div>

//Dekma - Mehewara
   <div class="dekma-mehewara">
     <div class="dekma">
       <h1 class="dekma">අපගේ දැක්ම</h1>
       <p class="dekma">විද්‍යා දදාති විනයං</p>
     </div>
     <div class="mehewara">
       <h1 class="mehewara">අපගේ මෙහෙවර</h1>
       <p class="mehewara">ප්‍රශස්ථ අධ්‍යාපනයක් තුලින් විශිෂ්ඨ දරුවෙක්</p>
     </div>
   </div>

//Sample News
   <div class="sample-news-all">
     <h1 class="sample-news-title">Latest News</h1>
     <div class="sample-news">
     <?php
         include 'dbcon.php';
             $sql = "SELECT * FROM `news` LIMIT 4;";
             // echo"$news_id";
             $result = $conn->query($sql);
             if ($result->num_rows > 0) {
               // output data of each row
               while($row = $result->fetch_assoc()) {
                 echo'<!-- One Card -->';
                 echo'<div class="card">';
                 echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
                 echo'  <div class="card-body">';
                 echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
                 $short_iag = substr($row['news_tag'], 0, 70);
                 echo'    <p class="card-text">'. $short_iag .' ....</p>';
                 echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
                 echo'  </div>';
                 echo'</div> ';
               }
             } else {
               echo "0 results";
             }      
         ?>
   </div>
   </div>

//News Latter
   <div class="news-letter">
     <!-- <h1 class="news-letter-title"> Welcome to Our Newsletter</h1> -->
       <form class="news-letter-form" action="">
         <input type="text" class="news-letter-input" placeholder="Welcome to Our Newsletter">
         <button class="news-letter-submit">Submit</button>
       </form>
   </div>

//Sample Gallery
   <div class="memories">
     <h1 class="memory-title">Latest Memories</h1>
     <div class="memory-images">
     <div class="tz-gallery">
       <div class="row">
         <?php
           $get_images = "SELECT * FROM `images` LIMIT 8 ;";
           // echo"$news_id";
           $images = $conn->query($get_images);
           if ($images->num_rows > 0) {
             // output data of each row
             while($row = $images->fetch_assoc()) {
               echo '<div class="col-sm-8 col-md-3">';
               echo '    <a class="lightbox" href="add/' . $row["image_url"] . '">';
               echo '        <img src="add/' . $row["image_url"] . '" alt="Bridge">';
               echo '    </a>';
               echo '</div>';
             }
           } else {
             echo "0 results";
           }      
         ?>
       </div>
       </div>
     </div>
   </div>

//Footer
  <?php include 'acc/footer.php'; ?>

   <!-- Optional JavaScript; choose one of the two! -->

   <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
   <script>
   baguetteBox.run('.tz-gallery');
   </script>

   <?php
    include 'dbcon.php';
        $sql = "SELECT * FROM `news`;";
        // echo"$news_id";
        $result = $conn->query($sql);
        if ($result->num_rows > 0) {
          // output data of each row
          while($row = $result->fetch_assoc()) {
            echo'<!-- One Card -->';
            echo'<div class="card">';
            echo'  <img src="add/' . $row['news_thumb'] . '" class="card-img-top" alt="...">';
            echo'  <div class="card-body">';
            echo'    <h5 class="card-title">' . $row['news_title'] . '</h5>';
            $short_iag = substr($row['news_tag'], 0, 70);
            echo'    <p class="card-text">'. $short_iag .' ....</p>';
            echo'    <a href="one-news.php?news_id='. $row['news_id'] . '" class="btn btn-primary">View More</a>';
            echo'  </div>';
            echo'</div> ';
          }
        } else {
          echo "0 results";
        }      
    ?>

    <?php
      $name = $_POST["name"];
      $email = $_POST["email"];
      $comment = $_POST["comment"];
      $news_id = $_POST["form_id"];

      $sql = "INSERT INTO `comments`(`news_id`, `user_name`, `email`, `comment`) VALUES ('$news_id','$name','$email','$comment')";
      $conn->query($sql);

      $location = 'one-news.php?news_id=' .$news_id;
      // echo $location;

      header("Location: $location");
   ?>

  </body>
</html>

@use '../util/' as u;

%widget {
    padding: u.rem(16);
}

.grid{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: u.rem(40);
    // max-width: 1000px;
    width: min(100% - u.rem(40), u.rem(1000));
    // margin: 0 auto;
    margin-inline: auto;


    @include u.breakpoint(large) {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: auto;
    }
    // @media (max-width: 899px){
    //     padding-left: 20px;
    //     padding-right: 20px;
    // }
    
    &__main,&__sidebar{
        padding: u.rem(40);
    }

    &__main{
        background-color: hsl(240, 100%, 28%);
        @include u.breakpoint(medium){
            background-color: hsl(120, 100%, 22%);
        }
        @include u.breakpoint(large){
            background-color: hsl(24, 100%, 31%);
        }
    }
    &__sidebar{

        @include u.breakpoint-down(medium){
            text-align: center;
        }
        @include u.breakpoint-down(small){
            text-align: right;
        }
    }

    &__widget{
        // $widget: &;
        // padding: u.rem(16);

        &--magenta{
            @extend %widget;
            background-color: hsl(300, 100%, 34%);
        }

        &--green{
            // @extend .grid__widget;
            // @extend #{$widget};
            @extend %widget;
            background-color: hsl(120, 100%, 21%);
        }
    }
}

console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
	prev: document.querySelector(".btn--left"),
	next: document.querySelector(".btn--right"),
};
const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	const previousCardEl = cardsContainerEl.querySelector(".previous--card");
	const nextCardEl = cardsContainerEl.querySelector(".next--card");

	const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
	const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
	const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

	changeInfo(direction);
	swapCardsClass();

	removeCardEvents(currentCardEl);

	function swapCardsClass() {
		currentCardEl.classList.remove("current--card");
		previousCardEl.classList.remove("previous--card");
		nextCardEl.classList.remove("next--card");

		currentBgImageEl.classList.remove("current--image");
		previousBgImageEl.classList.remove("previous--image");
		nextBgImageEl.classList.remove("next--image");

		currentCardEl.style.zIndex = "50";
		currentBgImageEl.style.zIndex = "-2";

		if (direction === "right") {
			previousCardEl.style.zIndex = "20";
			nextCardEl.style.zIndex = "30";

			nextBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("previous--card");
			previousCardEl.classList.add("next--card");
			nextCardEl.classList.add("current--card");

			currentBgImageEl.classList.add("previous--image");
			previousBgImageEl.classList.add("next--image");
			nextBgImageEl.classList.add("current--image");
		} else if (direction === "left") {
			previousCardEl.style.zIndex = "30";
			nextCardEl.style.zIndex = "20";

			previousBgImageEl.style.zIndex = "-1";

			currentCardEl.classList.add("next--card");
			previousCardEl.classList.add("current--card");
			nextCardEl.classList.add("previous--card");

			currentBgImageEl.classList.add("next--image");
			previousBgImageEl.classList.add("current--image");
			nextBgImageEl.classList.add("previous--image");
		}
	}
}

function changeInfo(direction) {
	let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
	let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

	gsap.timeline()
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 0.5,
		pointerEvents: "none",
	})
		.to(
		currentInfoEl.querySelectorAll(".text"),
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "-120px",
			opacity: 0,
		},
		"-="
	)
		.call(() => {
		swapInfosClass(direction);
	})
		.call(() => initCardEvents())
		.fromTo(
		direction === "right"
		? nextInfoEl.querySelectorAll(".text")
		: previousInfoEl.querySelectorAll(".text"),
		{
			opacity: 0,
			translateY: "40px",
		},
		{
			duration: 0.4,
			stagger: 0.1,
			translateY: "0px",
			opacity: 1,
		}
	)
		.to([buttons.prev, buttons.next], {
		duration: 0.2,
		opacity: 1,
		pointerEvents: "all",
	});

	function swapInfosClass() {
		currentInfoEl.classList.remove("current--info");
		previousInfoEl.classList.remove("previous--info");
		nextInfoEl.classList.remove("next--info");

		if (direction === "right") {
			currentInfoEl.classList.add("previous--info");
			nextInfoEl.classList.add("current--info");
			previousInfoEl.classList.add("next--info");
		} else if (direction === "left") {
			currentInfoEl.classList.add("next--info");
			nextInfoEl.classList.add("previous--info");
			previousInfoEl.classList.add("current--info");
		}
	}
}

function updateCard(e) {
	const card = e.currentTarget;
	const box = card.getBoundingClientRect();
	const centerPosition = {
		x: box.left + box.width / 2,
		y: box.top + box.height / 2,
	};
	let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
	gsap.set(card, {
		"--current-card-rotation-offset": `${angle}deg`,
	});
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(currentInfoEl, {
		rotateY: `${angle}deg`,
	});
}

function resetCardTransforms(e) {
	const card = e.currentTarget;
	const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
	gsap.set(card, {
		"--current-card-rotation-offset": 0,
	});
	gsap.set(currentInfoEl, {
		rotateY: 0,
	});
}

function initCardEvents() {
	const currentCardEl = cardsContainerEl.querySelector(".current--card");
	currentCardEl.addEventListener("pointermove", updateCard);
	currentCardEl.addEventListener("pointerout", (e) => {
		resetCardTransforms(e);
	});
}

initCardEvents();

function removeCardEvents(card) {
	card.removeEventListener("pointermove", updateCard);
}

function init() {

	let tl = gsap.timeline();

	tl.to(cardsContainerEl.children, {
		delay: 0.15,
		duration: 0.5,
		stagger: {
			ease: "power4.inOut",
			from: "right",
			amount: 0.1,
		},
		"--card-translateY-offset": "0%",
	})
		.to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		delay: 0.5,
		duration: 0.4,
		stagger: 0.1,
		opacity: 1,
		translateY: 0,
	})
		.to(
		[buttons.prev, buttons.next],
		{
			duration: 0.4,
			opacity: 1,
			pointerEvents: "all",
		},
		"-=0.4"
	);
}

const waitForImages = () => {
	const images = [...document.querySelectorAll("img")];
	const totalImages = images.length;
	let loadedImages = 0;
	const loaderEl = document.querySelector(".loader span");

	gsap.set(cardsContainerEl.children, {
		"--card-translateY-offset": "100vh",
	});
	gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
		translateY: "40px",
		opacity: 0,
	});
	gsap.set([buttons.prev, buttons.next], {
		pointerEvents: "none",
		opacity: "0",
	});

	images.forEach((image) => {
		imagesLoaded(image, (instance) => {
			if (instance.isComplete) {
				loadedImages++;
				let loadProgress = loadedImages / totalImages;

				gsap.to(loaderEl, {
					duration: 1,
					scaleX: loadProgress,
					backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,
				});

				if (totalImages == loadedImages) {
					gsap.timeline()
						.to(".loading__wrapper", {
						duration: 0.8,
						opacity: 0,
						pointerEvents: "none",
					})
						.call(() => init());
				}
			}
		});
	});
};

waitForImages();


@use 'sass:math';

// font-sixe: rem(30);
// Throe an error if the parameter has a unit
@function rem($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + rem;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }

}

// font-sixe: em(30);
@function em($pixel) {
    // if $pixel has a unit, throw an error
    @if math.is-unitless($pixel){
        @return math.div($pixel, 16) + em;
    }
    // Otherwise (else) - devide #pixel by 16 to return rems
    @else{
        
        @error 'Don\'t use unites using the rem() function; only numbers' ;
    }
}

include("connection.php");

if(isset($_POST['submit'])) {
	$name = $_POST['name'];
	$email = $_POST['email'];
	$user = $_POST['username'];
	$pass = $_POST['password'];
	$create_datetime = date("Y-m-d H:i:s");
	if($user == "" || $pass == "" || $name == "" || $email == "" ) {
		echo "All fields should be filled. Either one or many fields are empty.";
		echo "<br/>";
		echo "<a href='registration.php'>Go back</a>";
	} else {
		mysqli_query($mysqli, "INSERT INTO login(name, email, username, password, create_datetime) VALUES('$name', '$email', '$user', '$pass' ,' $create_datetime')")
			or die("Could not execute the insert query.");
			
		echo "Registration successfully Click";
		echo "<br/>";
		echo "<a href='login.php'>Login</a>";
		echo "continue";
	}
}
